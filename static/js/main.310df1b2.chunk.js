(this["webpackJsonpron-benzvi-25-04-21"]=this["webpackJsonpron-benzvi-25-04-21"]||[]).push([[0],{45:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(12),i=c.n(n),s="Herolo Weather Task",l="Home",o="Favorites",d={ERROR_MESSAGE:"Error occured: "},u=c(1),h={HOUSE_ICON:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"black",className:"bi bi-house",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{fillRule:"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(u.jsx)("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]}),FAV_ICON:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"black",className:"bi bi-bookmark-heart",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{fillRule:"evenodd",d:"M8 4.41c1.387-1.425 4.854 1.07 0 4.277C3.146 5.48 6.613 2.986 8 4.412z"}),Object(u.jsx)("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"})]}),SEARCH_ICON:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})}),X_ICON:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})}),HEART_ICON:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40px",height:"40px",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})}),HEART_ICON_FAV:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"red",color:"black",className:"bi bi-heart-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})},j=c(11),b=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("nav",{className:"navbar navbar-expand-md  navbar-light",style:{backgroundColor:"#e3f2fd"},children:[Object(u.jsx)("a",{className:"navbar-brand",href:"!#",style:{marginLeft:"1em"},children:s}),Object(u.jsx)("div",{className:"collapse navbar-collapse",children:Object(u.jsxs)("ul",{className:"navbar-nav mr-auto  mt-md-0",style:{marginInlineStart:"auto",paddingInlineEnd:"50px"},children:[Object(u.jsx)("li",{className:"nav-item active",children:Object(u.jsxs)(j.b,{className:"nav-link",to:"/ron-benzvi-25-04-21",children:[Object(u.jsxs)("span",{children:[" ",l]}),Object(u.jsxs)("span",{children:[" ",h.HOUSE_ICON]})]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)(j.b,{className:"nav-link",to:"/on-benzvi-25-04-21/favorites",children:[Object(u.jsxs)("span",{children:[" ",o]}),Object(u.jsxs)("span",{children:[" ",h.FAV_ICON]})]})})]})})]})})},O=c(14),v=c(50),x=c(18),p=c(27),m=c.n(p),f=c(30);function y(e){return g.apply(this,arguments)}function g(){return(g=Object(f.a)(m.a.mark((function e(t){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w="https://developer.accuweather.com/sites/default/files/",N="-s.png",C=" http://dataservice.accuweather.com/currentconditions/v1/",A="http://dataservice.accuweather.com/forecasts/v1/daily/5day/",R={APIKEY_URL:"?apikey=".concat("vM6VW4AdspAAhri19e6sH8YWdgLAwLjO")},I="http://dataservice.accuweather.com/locations/v1/cities/autocomplete",_=c(7),E="LOAD_CITY_WEATHER",T="LOAD_CITY_WEATHER_FORECAST",D="ADD_CITY_TO_FAVORITES",L="REMOVE_CITY_FROM_FAVORITES";var W=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],r=t[1],n=Object(v.a)(c,500),i=Object(O.a)(n,1)[0],s=Object(a.useState)([]),l=Object(O.a)(s,2),o=l[0],d=l[1],j=Object(_.c)();Object(a.useEffect)((function(){c&&(/[a-zA-Z]/.test(c.charAt(c.length-1))||alert("not an english letter,please correct")),i.length&&y("".concat(I).concat(R.APIKEY_URL,"&q=").concat(i)).then((function(e){return d(e)}))}),[i]);return Object(u.jsx)("div",{style:{position:"relative"},children:Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(x.a.Toggle,{variant:"primary",id:"dropdown-basic",style:{width:"400px",backgroundColor:"#e3f2fd"},"aria-expanded":"true",children:[Object(u.jsx)("input",{type:"text",placeholder:"Start typing city name",onChange:function(e){return r(e.target.value)},style:{float:"left",minWidth:"98%"},value:i}),Object(u.jsx)("span",{style:{position:"absolute",right:"30px",color:"black"},children:0===c.length?Object(u.jsx)("span",{children:h.SEARCH_ICON}):Object(u.jsx)("span",{onClick:function(){return r("")},children:h.X_ICON})})]}),c.length>0?Object(u.jsx)(x.a.Menu,{children:o.map((function(e){return Object(u.jsx)(x.a.Item,{onClick:function(){return t=e.Key,c=e.LocalizedName,y("".concat(C).concat(t).concat(R.APIKEY_URL)).then((function(e){j({type:E,payload:{cityDetails:{name:c,id:t},currentWeather:e[0]}}),y("".concat(A).concat(t).concat(R.APIKEY_URL)).then((function(e){return j({type:T,payload:e})})).catch((function(e){return alert("forecast fetch error ".concat(e))}))})),void r(c);var t,c},children:e.LocalizedName},e.Key)}))}):null]})})};function M(e){return e<10?"0".concat(e):"".concat(e)}var z=function(e){var t=e.currentCityData,c=e.favouriteList,a=Object(_.c)(),r=function(){var e=c.filter((function(e){return e.id!==t.cityDetails.id}));a({type:L,payload:e})},n=function(){var e;a({type:D,payload:{id:(e=t).cityDetails.id,name:e.cityDetails.name,currentWeather:e.currentWeather}})};return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-1",children:Object(u.jsx)("img",{src:"".concat(w).concat(M(t.currentWeather.WeatherIcon)).concat(N),alt:t.currentWeather.WeatherText,style:{marginRight:"20px",border:"outset"}})}),Object(u.jsxs)("div",{className:"col-4 currentForecastData",style:{marginRight:"10px",marginLeft:"10px"},children:[Object(u.jsxs)("div",{children:[" ",t.cityDetails.name]})," ".concat(t.currentWeather.Temperature.Metric.Value," ").concat(t.currentWeather.Temperature.Metric.Unit)]}),Object(u.jsx)("div",{className:"col-5",style:{textAlign:"right"},children:Object(u.jsx)("span",{onClick:function(){c.filter((function(e){return e.id===t.cityDetails.id})).length?r():n()},style:{paddingLeft:"100%"},children:c.filter((function(e){return e.id===t.cityDetails.id})).length?h.HEART_ICON_FAV:h.HEART_ICON})})]})};function k(e){var t=new Date(e);return[function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return}}(t.getDay())," ".concat(t.getDate(),"/").concat(function(e){switch(e){case 0:return"01";case 1:return"02";case 2:return"03";case 3:return"04";case 4:return"05";case 5:return"06";case 6:return"07";case 7:return"08";case 8:return"09";case 9:return"10";case 10:return"11";case 11:return"12";default:return}}(t.getMonth()))]}var S=function(e){var t,c=e.data;return Object(u.jsxs)("div",{children:[k(c.Date).map((function(e,t){return Object(u.jsx)("div",{children:e},t)})),(t=c.Temperature.Maximum.Value,Number.parseFloat(.5556*(t-32)).toFixed(1))," ",(c.Temperature.Minimum.Unit,"C"),Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:"".concat(w).concat(M(c.Day.Icon)).concat(N),alt:c.Day.IconPhrase})})]})},V=Object(_.b)((function(e){return{currentCity:e.weatherReducer,favouriteList:e.favoritesReducer}}))((function(e){var t=e.currentCity,c=e.favouriteList,r=Object(_.c)(),n=Object(a.useState)({cityDetails:{name:"Tel Aviv",id:"215854"}}),i=Object(O.a)(n,2),s=i[0];i[1];return Object(a.useEffect)((function(){Object.values(t).length||y("".concat(C).concat(s.cityDetails.id).concat(R.APIKEY_URL)).then((function(e){r({type:E,payload:{cityDetails:{name:s.cityDetails.name,id:s.cityDetails.id},currentWeather:e[0]}}),y("".concat(A).concat(s.cityDetails.id).concat(R.APIKEY_URL)).then((function(e){return r({type:T,payload:e})})).catch((function(e){return alert("".concat(d," ").concat(e))}))})).catch((function(e){return alert("".concat(d," ").concat(e))}))}),[t]),Object.values(t).length<3?Object(u.jsxs)("div",{class:"d-flex align-items-center",children:[Object(u.jsx)("strong",{children:"Loading..."}),Object(u.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"row",style:{marginTop:"3%"},children:Object(u.jsx)(z,{currentCityData:t,favouriteList:c})}),Object(u.jsx)("div",{className:"row",style:{justifyContent:"center",marginTop:"5%",fontSize:"xx-large"},children:t.currentWeather.WeatherText}),Object(u.jsx)("div",{className:"row",style:{textAlign:"center",margin:"auto",paddingBlockStart:"7%"},children:t.forecast.DailyForecasts.map((function(e){return Object(u.jsx)("div",{className:"col",style:{border:"ridge",marginRight:"10px"},children:Object(u.jsx)(S,{data:e})},e.Date)}))})]})})),F=c(13),H=c(32);var U=c(19);var Y=Object(F.b)({favoritesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return[].concat(Object(H.a)(e),[t.payload]);case L:return t.payload;default:return e}},weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(U.a)(Object(U.a)({},e),{},{cityDetails:t.payload.cityDetails,currentWeather:t.payload.currentWeather});case T:return Object(U.a)(Object(U.a)({},e),{},{forecast:t.payload});default:return e}}}),K=Object(F.c)(Y),P=c(5),B=function(e){var t=e.data;return Object(u.jsxs)("div",{className:"col",style:{textAlign:"center",color:"black"},children:[Object(u.jsx)("div",{children:t.name}),Object(u.jsxs)("div",{children:[t.currentWeather.Temperature.Metric.Value," ",t.currentWeather.Temperature.Metric.Unit]}),Object(u.jsx)("img",{src:"".concat(w).concat(M(t.currentWeather.WeatherIcon)).concat(N),alt:t.currentWeather.WeatherIcon}),Object(u.jsx)("div",{children:t.currentWeather.WeatherText})]})},J=Object(_.b)((function(e){return{favorites:e.favoritesReducer}}))((function(e){var t=e.favorites,c=Object(_.c)();return Object(u.jsx)("div",{className:"row",style:{marginTop:"5%"},children:t.map((function(e){return Object(u.jsx)("div",{className:"col-1",style:{borderStyle:"ridge",margin:"5%"},onClick:function(){return function(e){y("".concat(C).concat(e.id).concat(R.APIKEY_URL)).then((function(t){c({type:E,payload:{cityDetails:{name:e.name,id:e.id},currentWeather:t[0]}}),y("".concat(A).concat(e.id).concat(R.APIKEY_URL)).then((function(e){return c({type:T,payload:e})})).catch((function(e){return alert("forecast fetch error ".concat(e))}))}))}(e)},children:Object(u.jsx)(j.b,{to:"/",style:{textDecorationLine:"none"},children:Object(u.jsx)(B,{data:e})})},e.id)}))})}));var X=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(_.a,{store:K,children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(P.c,{children:[Object(u.jsxs)(P.a,{exact:!0,path:"/ron-benzvi-25-04-21",children:[Object(u.jsx)("div",{className:"row search",style:{margin:"auto",width:"fit-content",marginTop:"30px"},children:Object(u.jsx)(W,{})}),Object(u.jsx)("div",{className:"row forecast-container",style:{margin:"auto",width:"90%",minHeight:"400px",marginTop:"30px",border:"solid"},children:Object(u.jsx)(V,{})})]}),Object(u.jsx)(P.a,{path:"/ron-benzvi-25-04-21/favorites",children:Object(u.jsx)(J,{})})]})})]})})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(X,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.310df1b2.chunk.js.map